@using KKday.Web.B2D.BE.Areas.KKday.Models.DataModel.Company
@using KKday.Web.B2D.BE.Models.Company
@using Resources
@inject ILocalizer localizer
 
@{
    var companies = (List<B2D_Company>)ViewData["COMPANIES"];
    var lookup = (LookupModel)ViewData["LOOKUP_MODEL"];
}

<table id="mytable" class="table table-bordred table-striped">
    <thead>
    <th><input type="checkbox" id="checkall" /></th>
    <th>序號</th>
    <th>@localizer.Text.Company_List_Col_Name</th>
    <th>@localizer.Text.Company_Search_Country</th>
    <th>@localizer.Text.Company_Search_Status</th>
    <th>@localizer.Text.Company_List_Col_Promo</th>
    <th>@localizer.Text.Edit</th>
    <th>@localizer.Text.Delete</th>
    </thead>
    <tbody>
        @foreach (var item in companies)
        {
            <tr>
                <td><input type="checkbox" class="checkthis" value="@item.XID" /></td>
                <td>@item.XID</td>
                <td>@item.COMP_NAME</td>
                <td>@item.COMP_COUNTRY</td>
                <td>@item.STATUS</td>
                <td><p data-placement="top" data-toggle="tooltip" title="Promotion"><button class="btn btn-primary btn-xs" data-title="Promotion" data-toggle="modal" data-target="#promotion"><i class="fas fa-tasks"></i></button></p></td>
                <td><p data-placement="top" data-toggle="tooltip" title="Edit"><button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit"><span class="glyphicon glyphicon-pencil"></span></button></p></td>
                <td><p data-placement="top" data-toggle="tooltip" title="Delete"><button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete"><span class="glyphicon glyphicon-trash"></span></button></p></td>
            </tr>

        }


    </tbody>
</table>
<div class="clearfix"></div>
<ul class="pagination pull-right">

    <li class="disabled"><a href="#"><span class="glyphicon glyphicon-chevron-left"></span></a></li>

    @for (int nIdx = 0; nIdx < lookup.Paging.total_pages; nIdx++)
    {
        var pgIdx = nIdx + 1;
        if (pgIdx == lookup.Paging.current_page)
        {
            <li class="active"><a href="javascript:void(0);">@pgIdx</a></li>
        }
        else
        {
            <li><a href="#">@pgIdx</a></li>
        }
    }

    <li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span></a></li>
</ul>
